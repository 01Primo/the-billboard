@model MessageCreationViewModel

@{
    ViewData["Title"] = "Message detail";
}

<div class="text-center" xmlns="http://www.w3.org/1999/html">
    <h1 class="display-4">@ViewData["Title"]</h1>
    
    <form class="card" asp-action="Create" asp-controller="Messages" method="post">
        <div class="form-group">
            @if (Model.Message is not null)
            {
                <input asp-for="@Model.Message.Id" type="hidden" value="@Model.Message.Id" />
            }
            <div>
                <label for="body">Title</label>
                <input asp-for="Message!.Title" type="text" class="form-control" placeholder="Title">
                <span asp-validation-for="Message!.Title" class="text-danger"></span>
            </div>
            <div>
                <select asp-for="Message!.AuthorId">
                    @foreach(var author in Model.Authors)
                    {
                        <option value="@author.Id">@author.ToString()</option>
                    }
                </select>
            </div>
            <div>
                <label for="body">Message</label>
                <textarea asp-for="Message!.Body" type="text" class="form-control" placeholder="Enter message"></textarea> 
                <span asp-validation-for="Message!.Body" class="text-danger"></span>
            </div>
        </div>
        
        <button type="submit" class="btn btn-sm btn-outline-primary">Send</button>
    </form>
    
</div>